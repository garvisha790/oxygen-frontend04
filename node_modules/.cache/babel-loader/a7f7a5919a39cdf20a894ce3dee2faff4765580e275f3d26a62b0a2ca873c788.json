{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Garvisha\\\\Desktop\\\\Front\\\\oxygen-frontend\\\\src\\\\pages\\\\TelemetryDashboard.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport { getPlants } from \"../services/plantService\";\nimport { getDevices } from \"../services/deviceService\";\nimport { getLatestTelemetryEntry, getRealtimeTelemetryData, getTelemetryData, clearDeviceCache } from \"../services/telemetryService\";\nimport { Line } from \"react-chartjs-2\";\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, ArcElement } from \"chart.js\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, ArcElement);\nimport { Container, Select, MenuItem, FormControl, InputLabel, Table, TableBody, TableCell, TableHead, TableRow, Paper, Box, Typography, CircularProgress, Button, Grid, Divider, TableContainer } from \"@mui/material\";\nimport Sidebar from \"../components/Sidebar\";\nimport { useTheme } from '@mui/material/styles';\n\n// Custom circular progress visualization component that matches the reference UI\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MetricCircle = ({\n  value,\n  label,\n  color,\n  size = 100,\n  thickness = 5\n}) => {\n  _s();\n  const theme = useTheme();\n  const displayValue = value || 0;\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      m: 2\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        position: 'relative',\n        display: 'inline-flex',\n        mb: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n        variant: \"determinate\",\n        value: 75 // Fixed angle for the visual style\n        ,\n        size: size,\n        thickness: thickness,\n        sx: {\n          color: color || theme.palette.primary.main,\n          transform: 'rotate(135deg)',\n          '& .MuiCircularProgress-circle': {\n            strokeLinecap: 'round'\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          top: 0,\n          left: 0,\n          bottom: 0,\n          right: 0,\n          position: 'absolute',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          component: \"div\",\n          fontWeight: \"bold\",\n          children: [displayValue, label === 'Temperature' ? '°C' : label === 'Humidity' || label === 'Oil Level' ? '%' : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body1\",\n      component: \"div\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(MetricCircle, \"VrMvFCCB9Haniz3VCRPNUiCauHs=\", false, function () {\n  return [useTheme];\n});\n_c = MetricCircle;\nconst TelemetryDashboard = () => {\n  _s2();\n  const theme = useTheme();\n  const [plants, setPlants] = useState([]);\n  const [devices, setDevices] = useState([]);\n  const [selectedPlant, setSelectedPlant] = useState(\"\");\n  const [selectedDevice, setSelectedDevice] = useState(\"esp32\");\n  const [telemetryData, setTelemetryData] = useState([]);\n  const [latestEntry, setLatestEntry] = useState(null);\n  const [realtimeData, setRealtimeData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [activeTab, setActiveTab] = useState(\"status\");\n  const [connectionStatus, setConnectionStatus] = useState(\"disconnected\");\n\n  // Fetch plants on component mount\n  useEffect(() => {\n    const fetchPlants = async () => {\n      try {\n        setLoading(true);\n        const plantData = await getPlants();\n        if (plantData && plantData.length > 0) {\n          setPlants(plantData);\n          // Auto-select first plant if none selected\n          if (!selectedPlant && plantData.length > 0) {\n            setSelectedPlant(plantData[0]._id);\n          }\n        }\n      } catch (error) {\n        console.error(\"❌ Error fetching plants:\", error);\n        setError(\"Failed to load plants. Please try again.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchPlants();\n  }, [selectedPlant]);\n\n  // Fetch devices when plant selection changes\n  useEffect(() => {\n    const fetchDevices = async () => {\n      if (!selectedPlant) {\n        setDevices([]);\n        setSelectedDevice(\"\");\n        return;\n      }\n      try {\n        setLoading(true);\n        const deviceData = await getDevices(selectedPlant);\n        if (deviceData && deviceData.length > 0) {\n          setDevices(deviceData);\n          // Auto-select first device if none selected\n          if (!selectedDevice && deviceData.length > 0) {\n            setSelectedDevice(deviceData[0]._id);\n          }\n        } else {\n          setDevices([]);\n          setSelectedDevice(\"\");\n        }\n      } catch (error) {\n        console.error(\"❌ Error fetching devices:\", error);\n        setError(\"Failed to load devices. Please try again.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchDevices();\n  }, [selectedPlant]);\n\n  // Fetch latest telemetry entry for dashboard metrics\n  const fetchLatestEntry = useCallback(async () => {\n    if (!selectedDevice) {\n      setLatestEntry(null);\n      setConnectionStatus(\"disconnected\");\n      return;\n    }\n    try {\n      const data = await getLatestTelemetryEntry(selectedDevice);\n      if (data) {\n        setLatestEntry(data);\n        setConnectionStatus(\"connected\");\n        setError(null);\n      } else {\n        setConnectionStatus(\"no data\");\n        setError(\"No telemetry data available for this device. Please check connection.\");\n      }\n    } catch (error) {\n      console.error(\"❌ Error fetching latest telemetry:\", error);\n      setConnectionStatus(\"error\");\n      setError(\"Failed to fetch telemetry data. Please try again.\");\n    }\n  }, [selectedDevice]);\n\n  // Fetch realtime telemetry data for charts\n  const fetchRealtimeData = useCallback(async () => {\n    if (!selectedDevice) {\n      setRealtimeData([]);\n      return;\n    }\n    try {\n      const data = await getRealtimeTelemetryData(selectedDevice);\n      if (data && data.length > 0) {\n        setRealtimeData(data);\n        setError(null);\n      }\n    } catch (error) {\n      console.error(\"❌ Error fetching realtime data:\", error);\n    }\n  }, [selectedDevice]);\n\n  // Fetch historical telemetry data for tables\n  const fetchHistoricalData = useCallback(async () => {\n    if (!selectedDevice) {\n      setTelemetryData([]);\n      return;\n    }\n    try {\n      const data = await getTelemetryData(selectedDevice);\n      if (data && data.length > 0) {\n        setTelemetryData(data.slice(-20)); // Last 20 entries\n        setError(null);\n      }\n    } catch (error) {\n      console.error(\"❌ Error fetching historical data:\", error);\n    }\n  }, [selectedDevice]);\n\n  // Set up polling intervals when device changes\n  useEffect(() => {\n    if (!selectedDevice) return;\n\n    // Clear cache when switching devices\n    clearDeviceCache(selectedDevice);\n\n    // Initial fetches\n    fetchLatestEntry();\n    fetchRealtimeData();\n    fetchHistoricalData();\n\n    // Set up polling intervals\n    const latestInterval = setInterval(fetchLatestEntry, 2000);\n    const realtimeInterval = setInterval(fetchRealtimeData, 3000);\n    const historicalInterval = setInterval(fetchHistoricalData, 10000);\n\n    // Cleanup intervals on unmount or device change\n    return () => {\n      clearInterval(latestInterval);\n      clearInterval(realtimeInterval);\n      clearInterval(historicalInterval);\n    };\n  }, [selectedDevice, fetchLatestEntry, fetchRealtimeData, fetchHistoricalData]);\n\n  // Format data for temperature chart\n  const temperatureChartData = {\n    labels: realtimeData.map(data => new Date(data.timestamp).toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    })),\n    datasets: [{\n      label: \"Temperature (°C)\",\n      data: realtimeData.map(data => data.temperature),\n      borderColor: \"#ff6b8b\",\n      backgroundColor: \"rgba(255, 107, 139, 0.1)\",\n      borderWidth: 2,\n      pointRadius: 2,\n      tension: 0.3,\n      fill: false\n    }]\n  };\n\n  // Format data for oil level chart\n  const oilLevelChartData = {\n    labels: realtimeData.map(data => new Date(data.timestamp).toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    })),\n    datasets: [{\n      label: \"Oil Level (%)\",\n      data: realtimeData.map(data => data.oilLevel),\n      borderColor: \"#4dabf5\",\n      backgroundColor: \"rgba(77, 171, 245, 0.1)\",\n      borderWidth: 2,\n      pointRadius: 2,\n      tension: 0.3,\n      fill: false\n    }]\n  };\n\n  // Chart options for better appearance to match reference UI\n  const chartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'top',\n        labels: {\n          boxWidth: 10,\n          usePointStyle: true,\n          pointStyle: 'rect'\n        }\n      },\n      tooltip: {\n        mode: 'index',\n        intersect: false\n      }\n    },\n    scales: {\n      y: {\n        beginAtZero: false,\n        grid: {\n          display: true,\n          color: 'rgba(200, 200, 200, 0.1)'\n        },\n        ticks: {\n          font: {\n            size: 10\n          }\n        }\n      },\n      x: {\n        grid: {\n          display: false\n        },\n        ticks: {\n          maxRotation: 45,\n          minRotation: 45,\n          font: {\n            size: 10\n          }\n        }\n      }\n    },\n    animation: {\n      duration: 500\n    }\n  };\n\n  // Handlers for select changes\n  const handlePlantChange = e => {\n    const newPlantId = e.target.value;\n    setSelectedPlant(newPlantId);\n    setSelectedDevice(\"\");\n    clearDeviceCache(); // Clear all device cache when plant changes\n  };\n  const handleDeviceChange = e => {\n    const newDeviceId = e.target.value;\n    setSelectedDevice(newDeviceId);\n    clearDeviceCache(newDeviceId); // Clear cache for this specific device\n  };\n\n  // Render connection status indicator\n  const getConnectionStatus = () => {\n    if (connectionStatus === \"connected\") {\n      return \"Connected\";\n    } else if (connectionStatus === \"disconnected\") {\n      return \"Disconnected\";\n    } else if (connectionStatus === \"error\") {\n      return \"Connection Error\";\n    } else if (connectionStatus === \"no data\") {\n      return \"No data available\";\n    }\n    return \"Unknown\";\n  };\n\n  // Render the alarms tab content\n  const renderAlarmsTab = () => {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        textAlign: 'center',\n        py: 2\n      },\n      children: latestEntry ? /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        children: [latestEntry.openAlerts || 0, \" Open Alerts\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        color: \"text.secondary\",\n        children: \"No alerts data available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Render the command center tab content\n  const renderCommandCenterTab = () => {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        textAlign: 'center',\n        py: 2\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        color: \"text.secondary\",\n        children: \"Command Center functionality coming soon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Render device metrics in the status tab\n  const renderDeviceMetrics = () => {\n    if (!latestEntry) {\n      return /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          textAlign: 'center',\n          py: 3\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          color: \"text.secondary\",\n          children: \"No telemetry data available for this device. Please check connection.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mt: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        fontWeight: \"bold\",\n        mb: 2,\n        children: \"Device Metrics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'space-around',\n          flexWrap: 'wrap',\n          mb: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(MetricCircle, {\n          value: latestEntry.openAlerts || 0,\n          label: \"Open Alerts\",\n          color: \"#f44336\" // red\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MetricCircle, {\n          value: latestEntry.temperature || 0,\n          label: \"Temperature\",\n          color: \"#ff9800\" // orange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MetricCircle, {\n          value: latestEntry.humidity || 0,\n          label: \"Humidity\",\n          color: \"#2196f3\" // blue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MetricCircle, {\n          value: latestEntry.oilLevel || 0,\n          label: \"Oil Level\",\n          color: \"#4caf50\" // green\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Render charts section\n  const renderCharts = () => {\n    if (realtimeData.length === 0) return null;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        sx: {\n          mt: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            mb: 1,\n            children: \"Temperature Over Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Paper, {\n            sx: {\n              p: 2,\n              height: 250\n            },\n            children: /*#__PURE__*/_jsxDEV(Line, {\n              data: temperatureChartData,\n              options: chartOptions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            mb: 1,\n            children: \"Oil Level Over Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Paper, {\n            sx: {\n              p: 2,\n              height: 250\n            },\n            children: /*#__PURE__*/_jsxDEV(Line, {\n              data: oilLevelChartData,\n              options: chartOptions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          mb: 1,\n          children: \"Latest Readings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n          component: Paper,\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            size: \"small\",\n            children: [/*#__PURE__*/_jsxDEV(TableHead, {\n              children: /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"Timestamp\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 488,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"Temperature (\\xB0C)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 489,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"Oil Level (%)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 490,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 487,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n              children: telemetryData.length > 0 ? telemetryData.map((item, index) => /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: new Date(item.timestamp).toLocaleString([], {\n                    year: 'numeric',\n                    month: 'numeric',\n                    day: 'numeric',\n                    hour: '2-digit',\n                    minute: '2-digit',\n                    second: '2-digit'\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: item.temperature\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 507,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: item.oilLevel\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 508,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 21\n              }, this)) : /*#__PURE__*/_jsxDEV(TableRow, {\n                children: /*#__PURE__*/_jsxDEV(TableCell, {\n                  colSpan: 3,\n                  align: \"center\",\n                  children: \"No data available\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: \"flex\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 528,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"lg\",\n      sx: {\n        mt: 4,\n        mb: 4,\n        ml: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        fontWeight: \"bold\",\n        mb: 3,\n        children: \"Telemetry Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            sx: {\n              mb: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"plant-select-label\",\n              children: \"Select Plant\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"plant-select-label\",\n              value: selectedPlant,\n              onChange: handlePlantChange,\n              label: \"Select Plant\",\n              disabled: loading,\n              children: plants.map(plant => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: plant._id,\n                children: plant.plantName\n              }, plant._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 547,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            sx: {\n              mb: 2\n            },\n            disabled: !selectedPlant || loading,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"device-select-label\",\n              children: \"Select Device\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"device-select-label\",\n              value: selectedDevice,\n              onChange: handleDeviceChange,\n              label: \"Select Device\",\n              children: devices.map(device => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: device._id,\n                children: device.deviceName\n              }, device._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 565,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'center',\n          my: 4\n        },\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 11\n      }, this), selectedDevice && !loading && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            border: 1,\n            borderColor: 'divider',\n            borderRadius: 1,\n            overflow: 'hidden'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: activeTab === \"status\" ? \"contained\" : \"text\",\n            onClick: () => setActiveTab(\"status\"),\n            sx: {\n              flex: 1,\n              py: 1.5,\n              borderRadius: 0,\n              color: activeTab === \"status\" ? \"#fff\" : \"inherit\",\n              backgroundColor: activeTab === \"status\" ? \"#1976d2\" : \"transparent\"\n            },\n            children: [\"Status\", activeTab === \"status\" && /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              sx: {\n                ml: 1\n              },\n              children: getConnectionStatus()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 606,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 593,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            orientation: \"vertical\",\n            flexItem: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 612,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: activeTab === \"alarms\" ? \"contained\" : \"text\",\n            onClick: () => setActiveTab(\"alarms\"),\n            sx: {\n              flex: 1,\n              py: 1.5,\n              borderRadius: 0,\n              color: activeTab === \"alarms\" ? \"#fff\" : \"inherit\",\n              backgroundColor: activeTab === \"alarms\" ? \"#1976d2\" : \"transparent\"\n            },\n            children: [\"Alarms\", activeTab === \"alarms\" && latestEntry && /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              sx: {\n                ml: 1\n              },\n              children: [latestEntry.openAlerts || 0, \" Open Alerts\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 627,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 614,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            orientation: \"vertical\",\n            flexItem: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 633,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: activeTab === \"cmd\" ? \"contained\" : \"text\",\n            onClick: () => setActiveTab(\"cmd\"),\n            sx: {\n              flex: 1,\n              py: 1.5,\n              borderRadius: 0,\n              color: activeTab === \"cmd\" ? \"#fff\" : \"inherit\",\n              backgroundColor: activeTab === \"cmd\" ? \"#1976d2\" : \"transparent\"\n            },\n            children: \"Command Center\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 13\n        }, this), error && /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 2,\n            mt: 2,\n            bgcolor: 'error.light',\n            color: 'error.main',\n            borderRadius: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 661,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 652,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: 3\n          },\n          children: [activeTab === \"status\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [renderDeviceMetrics(), renderCharts()]\n          }, void 0, true), activeTab === \"alarms\" && renderAlarmsTab(), activeTab === \"cmd\" && renderCommandCenterTab()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 666,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 529,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 527,\n    columnNumber: 5\n  }, this);\n};\n_s2(TelemetryDashboard, \"Jf4zGeW2o5dFSOt15YHpQkEd61Q=\", false, function () {\n  return [useTheme];\n});\n_c2 = TelemetryDashboard;\nexport default TelemetryDashboard;\nvar _c, _c2;\n$RefreshReg$(_c, \"MetricCircle\");\n$RefreshReg$(_c2, \"TelemetryDashboard\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","getPlants","getDevices","getLatestTelemetryEntry","getRealtimeTelemetryData","getTelemetryData","clearDeviceCache","Line","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","ArcElement","register","Container","Select","MenuItem","FormControl","InputLabel","Table","TableBody","TableCell","TableHead","TableRow","Paper","Box","Typography","CircularProgress","Button","Grid","Divider","TableContainer","Sidebar","useTheme","jsxDEV","_jsxDEV","Fragment","_Fragment","MetricCircle","value","label","color","size","thickness","_s","theme","displayValue","sx","display","flexDirection","alignItems","m","children","position","mb","variant","palette","primary","main","transform","strokeLinecap","fileName","_jsxFileName","lineNumber","columnNumber","top","left","bottom","right","justifyContent","component","fontWeight","_c","TelemetryDashboard","_s2","plants","setPlants","devices","setDevices","selectedPlant","setSelectedPlant","selectedDevice","setSelectedDevice","telemetryData","setTelemetryData","latestEntry","setLatestEntry","realtimeData","setRealtimeData","loading","setLoading","error","setError","activeTab","setActiveTab","connectionStatus","setConnectionStatus","fetchPlants","plantData","length","_id","console","fetchDevices","deviceData","fetchLatestEntry","data","fetchRealtimeData","fetchHistoricalData","slice","latestInterval","setInterval","realtimeInterval","historicalInterval","clearInterval","temperatureChartData","labels","map","Date","timestamp","toLocaleTimeString","hour","minute","datasets","temperature","borderColor","backgroundColor","borderWidth","pointRadius","tension","fill","oilLevelChartData","oilLevel","chartOptions","responsive","maintainAspectRatio","plugins","legend","boxWidth","usePointStyle","pointStyle","tooltip","mode","intersect","scales","y","beginAtZero","grid","ticks","font","x","maxRotation","minRotation","animation","duration","handlePlantChange","e","newPlantId","target","handleDeviceChange","newDeviceId","getConnectionStatus","renderAlarmsTab","textAlign","py","openAlerts","renderCommandCenterTab","renderDeviceMetrics","mt","flexWrap","humidity","renderCharts","container","spacing","item","xs","md","p","height","options","index","toLocaleString","year","month","day","second","colSpan","align","maxWidth","ml","fullWidth","id","labelId","onChange","disabled","plant","plantName","device","deviceName","my","border","borderRadius","overflow","onClick","flex","orientation","flexItem","bgcolor","_c2","$RefreshReg$"],"sources":["C:/Users/Garvisha/Desktop/Front/oxygen-frontend/src/pages/TelemetryDashboard.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\r\nimport { getPlants } from \"../services/plantService\";\r\nimport { getDevices } from \"../services/deviceService\";\r\nimport { \r\n  getLatestTelemetryEntry, \r\n  getRealtimeTelemetryData, \r\n  getTelemetryData,\r\n  clearDeviceCache \r\n} from \"../services/telemetryService\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement,\r\n} from \"chart.js\";\r\n\r\nChartJS.register(\r\n  CategoryScale, \r\n  LinearScale, \r\n  PointElement, \r\n  LineElement, \r\n  Title, \r\n  Tooltip, \r\n  Legend,\r\n  ArcElement\r\n);\r\n\r\nimport {\r\n  Container,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  Box,\r\n  Typography,\r\n  CircularProgress,\r\n  Button,\r\n  Grid,\r\n  Divider,\r\n  TableContainer,\r\n} from \"@mui/material\";\r\n\r\nimport Sidebar from \"../components/Sidebar\";\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\n// Custom circular progress visualization component that matches the reference UI\r\nconst MetricCircle = ({ value, label, color, size = 100, thickness = 5 }) => {\r\n  const theme = useTheme();\r\n  const displayValue = value || 0;\r\n  \r\n  return (\r\n    <Box sx={{ \r\n      display: 'flex', \r\n      flexDirection: 'column', \r\n      alignItems: 'center',\r\n      m: 2\r\n    }}>\r\n      <Box sx={{ \r\n        position: 'relative', \r\n        display: 'inline-flex',\r\n        mb: 1\r\n      }}>\r\n        <CircularProgress\r\n          variant=\"determinate\"\r\n          value={75} // Fixed angle for the visual style\r\n          size={size}\r\n          thickness={thickness}\r\n          sx={{ \r\n            color: color || theme.palette.primary.main,\r\n            transform: 'rotate(135deg)',\r\n            '& .MuiCircularProgress-circle': {\r\n              strokeLinecap: 'round',\r\n            }\r\n          }}\r\n        />\r\n        <Box\r\n          sx={{\r\n            top: 0,\r\n            left: 0,\r\n            bottom: 0,\r\n            right: 0,\r\n            position: 'absolute',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n          }}\r\n        >\r\n          <Typography variant=\"h5\" component=\"div\" fontWeight=\"bold\">\r\n            {displayValue}\r\n            {label === 'Temperature' ? '°C' : label === 'Humidity' || label === 'Oil Level' ? '%' : ''}\r\n          </Typography>\r\n        </Box>\r\n      </Box>\r\n      <Typography variant=\"body1\" component=\"div\">\r\n        {label}\r\n      </Typography>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst TelemetryDashboard = () => {\r\n  const theme = useTheme();\r\n  const [plants, setPlants] = useState([]);\r\n  const [devices, setDevices] = useState([]);\r\n  const [selectedPlant, setSelectedPlant] = useState(\"\");\r\n  const [selectedDevice, setSelectedDevice] = useState(\"esp32\");\r\n  const [telemetryData, setTelemetryData] = useState([]);\r\n  const [latestEntry, setLatestEntry] = useState(null);\r\n  const [realtimeData, setRealtimeData] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [activeTab, setActiveTab] = useState(\"status\");\r\n  const [connectionStatus, setConnectionStatus] = useState(\"disconnected\");\r\n\r\n  // Fetch plants on component mount\r\n  useEffect(() => {\r\n    const fetchPlants = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const plantData = await getPlants();\r\n        if (plantData && plantData.length > 0) {\r\n          setPlants(plantData);\r\n          // Auto-select first plant if none selected\r\n          if (!selectedPlant && plantData.length > 0) {\r\n            setSelectedPlant(plantData[0]._id);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error(\"❌ Error fetching plants:\", error);\r\n        setError(\"Failed to load plants. Please try again.\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchPlants();\r\n  }, [selectedPlant]);\r\n\r\n  // Fetch devices when plant selection changes\r\n  useEffect(() => {\r\n    const fetchDevices = async () => {\r\n      if (!selectedPlant) {\r\n        setDevices([]);\r\n        setSelectedDevice(\"\");\r\n        return;\r\n      }\r\n      \r\n      try {\r\n        setLoading(true);\r\n        const deviceData = await getDevices(selectedPlant);\r\n        if (deviceData && deviceData.length > 0) {\r\n          setDevices(deviceData);\r\n          // Auto-select first device if none selected\r\n          if (!selectedDevice && deviceData.length > 0) {\r\n            setSelectedDevice(deviceData[0]._id);\r\n          }\r\n        } else {\r\n          setDevices([]);\r\n          setSelectedDevice(\"\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"❌ Error fetching devices:\", error);\r\n        setError(\"Failed to load devices. Please try again.\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchDevices();\r\n  }, [selectedPlant]);\r\n\r\n  // Fetch latest telemetry entry for dashboard metrics\r\n  const fetchLatestEntry = useCallback(async () => {\r\n    if (!selectedDevice) {\r\n      setLatestEntry(null);\r\n      setConnectionStatus(\"disconnected\");\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const data = await getLatestTelemetryEntry(selectedDevice);\r\n      if (data) {\r\n        setLatestEntry(data);\r\n        setConnectionStatus(\"connected\");\r\n        setError(null);\r\n      } else {\r\n        setConnectionStatus(\"no data\");\r\n        setError(\"No telemetry data available for this device. Please check connection.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"❌ Error fetching latest telemetry:\", error);\r\n      setConnectionStatus(\"error\");\r\n      setError(\"Failed to fetch telemetry data. Please try again.\");\r\n    }\r\n  }, [selectedDevice]);\r\n\r\n  // Fetch realtime telemetry data for charts\r\n  const fetchRealtimeData = useCallback(async () => {\r\n    if (!selectedDevice) {\r\n      setRealtimeData([]);\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const data = await getRealtimeTelemetryData(selectedDevice);\r\n      if (data && data.length > 0) {\r\n        setRealtimeData(data);\r\n        setError(null);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"❌ Error fetching realtime data:\", error);\r\n    }\r\n  }, [selectedDevice]);\r\n\r\n  // Fetch historical telemetry data for tables\r\n  const fetchHistoricalData = useCallback(async () => {\r\n    if (!selectedDevice) {\r\n      setTelemetryData([]);\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const data = await getTelemetryData(selectedDevice);\r\n      if (data && data.length > 0) {\r\n        setTelemetryData(data.slice(-20)); // Last 20 entries\r\n        setError(null);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"❌ Error fetching historical data:\", error);\r\n    }\r\n  }, [selectedDevice]);\r\n\r\n  // Set up polling intervals when device changes\r\n  useEffect(() => {\r\n    if (!selectedDevice) return;\r\n    \r\n    // Clear cache when switching devices\r\n    clearDeviceCache(selectedDevice);\r\n    \r\n    // Initial fetches\r\n    fetchLatestEntry();\r\n    fetchRealtimeData();\r\n    fetchHistoricalData();\r\n    \r\n    // Set up polling intervals\r\n    const latestInterval = setInterval(fetchLatestEntry, 2000);\r\n    const realtimeInterval = setInterval(fetchRealtimeData, 3000);\r\n    const historicalInterval = setInterval(fetchHistoricalData, 10000);\r\n    \r\n    // Cleanup intervals on unmount or device change\r\n    return () => {\r\n      clearInterval(latestInterval);\r\n      clearInterval(realtimeInterval);\r\n      clearInterval(historicalInterval);\r\n    };\r\n  }, [selectedDevice, fetchLatestEntry, fetchRealtimeData, fetchHistoricalData]);\r\n\r\n  // Format data for temperature chart\r\n  const temperatureChartData = {\r\n    labels: realtimeData.map((data) => \r\n      new Date(data.timestamp).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})\r\n    ),\r\n    datasets: [\r\n      {\r\n        label: \"Temperature (°C)\",\r\n        data: realtimeData.map((data) => data.temperature),\r\n        borderColor: \"#ff6b8b\",\r\n        backgroundColor: \"rgba(255, 107, 139, 0.1)\",\r\n        borderWidth: 2,\r\n        pointRadius: 2,\r\n        tension: 0.3,\r\n        fill: false,\r\n      },\r\n    ],\r\n  };\r\n\r\n  // Format data for oil level chart\r\n  const oilLevelChartData = {\r\n    labels: realtimeData.map((data) => \r\n      new Date(data.timestamp).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})\r\n    ),\r\n    datasets: [\r\n      {\r\n        label: \"Oil Level (%)\",\r\n        data: realtimeData.map((data) => data.oilLevel),\r\n        borderColor: \"#4dabf5\",\r\n        backgroundColor: \"rgba(77, 171, 245, 0.1)\",\r\n        borderWidth: 2,\r\n        pointRadius: 2,\r\n        tension: 0.3,\r\n        fill: false,\r\n      },\r\n    ],\r\n  };\r\n\r\n  // Chart options for better appearance to match reference UI\r\n  const chartOptions = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    plugins: {\r\n      legend: {\r\n        position: 'top',\r\n        labels: {\r\n          boxWidth: 10,\r\n          usePointStyle: true,\r\n          pointStyle: 'rect'\r\n        }\r\n      },\r\n      tooltip: {\r\n        mode: 'index',\r\n        intersect: false,\r\n      },\r\n    },\r\n    scales: {\r\n      y: {\r\n        beginAtZero: false,\r\n        grid: {\r\n          display: true,\r\n          color: 'rgba(200, 200, 200, 0.1)',\r\n        },\r\n        ticks: {\r\n          font: {\r\n            size: 10\r\n          }\r\n        }\r\n      },\r\n      x: {\r\n        grid: {\r\n          display: false,\r\n        },\r\n        ticks: {\r\n          maxRotation: 45,\r\n          minRotation: 45,\r\n          font: {\r\n            size: 10\r\n          }\r\n        }\r\n      },\r\n    },\r\n    animation: {\r\n      duration: 500,\r\n    },\r\n  };\r\n\r\n  // Handlers for select changes\r\n  const handlePlantChange = (e) => {\r\n    const newPlantId = e.target.value;\r\n    setSelectedPlant(newPlantId);\r\n    setSelectedDevice(\"\");\r\n    clearDeviceCache(); // Clear all device cache when plant changes\r\n  };\r\n\r\n  const handleDeviceChange = (e) => {\r\n    const newDeviceId = e.target.value;\r\n    setSelectedDevice(newDeviceId);\r\n    clearDeviceCache(newDeviceId); // Clear cache for this specific device\r\n  };\r\n\r\n  // Render connection status indicator\r\n  const getConnectionStatus = () => {\r\n    if (connectionStatus === \"connected\") {\r\n      return \"Connected\";\r\n    } else if (connectionStatus === \"disconnected\") {\r\n      return \"Disconnected\";\r\n    } else if (connectionStatus === \"error\") {\r\n      return \"Connection Error\";\r\n    } else if (connectionStatus === \"no data\") {\r\n      return \"No data available\";\r\n    }\r\n    return \"Unknown\";\r\n  };\r\n\r\n  // Render the alarms tab content\r\n  const renderAlarmsTab = () => {\r\n    return (\r\n      <Box sx={{ textAlign: 'center', py: 2 }}>\r\n        {latestEntry ? (\r\n          <Typography variant=\"h6\">\r\n            {latestEntry.openAlerts || 0} Open Alerts\r\n          </Typography>\r\n        ) : (\r\n          <Typography variant=\"body1\" color=\"text.secondary\">\r\n            No alerts data available\r\n          </Typography>\r\n        )}\r\n      </Box>\r\n    );\r\n  };\r\n\r\n  // Render the command center tab content\r\n  const renderCommandCenterTab = () => {\r\n    return (\r\n      <Box sx={{ textAlign: 'center', py: 2 }}>\r\n        <Typography variant=\"body1\" color=\"text.secondary\">\r\n          Command Center functionality coming soon\r\n        </Typography>\r\n      </Box>\r\n    );\r\n  };\r\n\r\n  // Render device metrics in the status tab\r\n  const renderDeviceMetrics = () => {\r\n    if (!latestEntry) {\r\n      return (\r\n        <Box sx={{ textAlign: 'center', py: 3 }}>\r\n          <Typography variant=\"body1\" color=\"text.secondary\">\r\n            No telemetry data available for this device. Please check connection.\r\n          </Typography>\r\n        </Box>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Box sx={{ mt: 3 }}>\r\n        <Typography variant=\"h6\" fontWeight=\"bold\" mb={2}>\r\n          Device Metrics\r\n        </Typography>\r\n        <Box sx={{ \r\n          display: 'flex', \r\n          justifyContent: 'space-around', \r\n          flexWrap: 'wrap',\r\n          mb: 3 \r\n        }}>\r\n          <MetricCircle \r\n            value={latestEntry.openAlerts || 0} \r\n            label=\"Open Alerts\" \r\n            color=\"#f44336\" // red\r\n          />\r\n          <MetricCircle \r\n            value={latestEntry.temperature || 0} \r\n            label=\"Temperature\" \r\n            color=\"#ff9800\" // orange\r\n          />\r\n          <MetricCircle \r\n            value={latestEntry.humidity || 0} \r\n            label=\"Humidity\" \r\n            color=\"#2196f3\" // blue\r\n          />\r\n          <MetricCircle \r\n            value={latestEntry.oilLevel || 0} \r\n            label=\"Oil Level\" \r\n            color=\"#4caf50\" // green\r\n          />\r\n        </Box>\r\n      </Box>\r\n    );\r\n  };\r\n\r\n  // Render charts section\r\n  const renderCharts = () => {\r\n    if (realtimeData.length === 0) return null;\r\n\r\n    return (\r\n      <>\r\n        <Grid container spacing={3} sx={{ mt: 2 }}>\r\n          <Grid item xs={12} md={6}>\r\n            <Typography variant=\"h6\" mb={1}>Temperature Over Time</Typography>\r\n            <Paper sx={{ p: 2, height: 250 }}>\r\n              <Line data={temperatureChartData} options={chartOptions} />\r\n            </Paper>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} md={6}>\r\n            <Typography variant=\"h6\" mb={1}>Oil Level Over Time</Typography>\r\n            <Paper sx={{ p: 2, height: 250 }}>\r\n              <Line data={oilLevelChartData} options={chartOptions} />\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Box sx={{ mt: 4 }}>\r\n          <Typography variant=\"h6\" mb={1}>Latest Readings</Typography>\r\n          <TableContainer component={Paper}>\r\n            <Table size=\"small\">\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Timestamp</TableCell>\r\n                  <TableCell>Temperature (°C)</TableCell>\r\n                  <TableCell>Oil Level (%)</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {telemetryData.length > 0 ? (\r\n                  telemetryData.map((item, index) => (\r\n                    <TableRow key={index}>\r\n                      <TableCell>\r\n                        {new Date(item.timestamp).toLocaleString([], {\r\n                          year: 'numeric',\r\n                          month: 'numeric',\r\n                          day: 'numeric',\r\n                          hour: '2-digit',\r\n                          minute: '2-digit',\r\n                          second: '2-digit'\r\n                        })}\r\n                      </TableCell>\r\n                      <TableCell>{item.temperature}</TableCell>\r\n                      <TableCell>{item.oilLevel}</TableCell>\r\n                    </TableRow>\r\n                  ))\r\n                ) : (\r\n                  <TableRow>\r\n                    <TableCell colSpan={3} align=\"center\">\r\n                      No data available\r\n                    </TableCell>\r\n                  </TableRow>\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        </Box>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ display: \"flex\" }}>\r\n      <Sidebar />\r\n      <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4, ml: 4 }}>\r\n        <Typography variant=\"h4\" fontWeight=\"bold\" mb={3}>\r\n          Telemetry Dashboard\r\n        </Typography>\r\n        \r\n        {/* Plant and Device Selection */}\r\n        <Grid container spacing={2}>\r\n          <Grid item xs={12} md={6}>\r\n            <FormControl fullWidth sx={{ mb: 2 }}>\r\n              <InputLabel id=\"plant-select-label\">Select Plant</InputLabel>\r\n              <Select\r\n                labelId=\"plant-select-label\"\r\n                value={selectedPlant}\r\n                onChange={handlePlantChange}\r\n                label=\"Select Plant\"\r\n                disabled={loading}\r\n              >\r\n                {plants.map((plant) => (\r\n                  <MenuItem key={plant._id} value={plant._id}>\r\n                    {plant.plantName}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} md={6}>\r\n            <FormControl fullWidth sx={{ mb: 2 }} disabled={!selectedPlant || loading}>\r\n              <InputLabel id=\"device-select-label\">Select Device</InputLabel>\r\n              <Select\r\n                labelId=\"device-select-label\"\r\n                value={selectedDevice}\r\n                onChange={handleDeviceChange}\r\n                label=\"Select Device\"\r\n              >\r\n                {devices.map((device) => (\r\n                  <MenuItem key={device._id} value={device._id}>\r\n                    {device.deviceName}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        {/* Loading indicator */}\r\n        {loading && (\r\n          <Box sx={{ display: 'flex', justifyContent: 'center', my: 4 }}>\r\n            <CircularProgress />\r\n          </Box>\r\n        )}\r\n\r\n        {/* Tab navigation */}\r\n        {selectedDevice && !loading && (\r\n          <>\r\n            <Box \r\n              sx={{ \r\n                display: 'flex',\r\n                border: 1,\r\n                borderColor: 'divider',\r\n                borderRadius: 1,\r\n                overflow: 'hidden'\r\n              }}\r\n            >\r\n              <Button \r\n                variant={activeTab === \"status\" ? \"contained\" : \"text\"}\r\n                onClick={() => setActiveTab(\"status\")}\r\n                sx={{ \r\n                  flex: 1, \r\n                  py: 1.5,\r\n                  borderRadius: 0,\r\n                  color: activeTab === \"status\" ? \"#fff\" : \"inherit\",\r\n                  backgroundColor: activeTab === \"status\" ? \"#1976d2\" : \"transparent\"\r\n                }}\r\n              >\r\n                Status\r\n                {activeTab === \"status\" && (\r\n                  <Typography variant=\"caption\" sx={{ ml: 1 }}>\r\n                    {getConnectionStatus()}\r\n                  </Typography>\r\n                )}\r\n              </Button>\r\n              \r\n              <Divider orientation=\"vertical\" flexItem />\r\n              \r\n              <Button \r\n                variant={activeTab === \"alarms\" ? \"contained\" : \"text\"}\r\n                onClick={() => setActiveTab(\"alarms\")}\r\n                sx={{ \r\n                  flex: 1, \r\n                  py: 1.5,\r\n                  borderRadius: 0,\r\n                  color: activeTab === \"alarms\" ? \"#fff\" : \"inherit\",\r\n                  backgroundColor: activeTab === \"alarms\" ? \"#1976d2\" : \"transparent\"\r\n                }}\r\n              >\r\n                Alarms\r\n                {activeTab === \"alarms\" && latestEntry && (\r\n                  <Typography variant=\"caption\" sx={{ ml: 1 }}>\r\n                    {latestEntry.openAlerts || 0} Open Alerts\r\n                  </Typography>\r\n                )}\r\n              </Button>\r\n              \r\n              <Divider orientation=\"vertical\" flexItem />\r\n              \r\n              <Button \r\n                variant={activeTab === \"cmd\" ? \"contained\" : \"text\"}\r\n                onClick={() => setActiveTab(\"cmd\")}\r\n                sx={{ \r\n                  flex: 1, \r\n                  py: 1.5,\r\n                  borderRadius: 0,\r\n                  color: activeTab === \"cmd\" ? \"#fff\" : \"inherit\",\r\n                  backgroundColor: activeTab === \"cmd\" ? \"#1976d2\" : \"transparent\"\r\n                }}\r\n              >\r\n                Command Center\r\n              </Button>\r\n            </Box>\r\n\r\n            {/* Error message */}\r\n            {error && (\r\n              <Paper \r\n                sx={{ \r\n                  p: 2, \r\n                  mt: 2, \r\n                  bgcolor: 'error.light', \r\n                  color: 'error.main',\r\n                  borderRadius: 1\r\n                }}\r\n              >\r\n                <Typography>{error}</Typography>\r\n              </Paper>\r\n            )}\r\n            \r\n            {/* Tab content */}\r\n            <Box sx={{ mt: 3 }}>\r\n              {activeTab === \"status\" && (\r\n                <>\r\n                  {renderDeviceMetrics()}\r\n                  {renderCharts()}\r\n                </>\r\n              )}\r\n              \r\n              {activeTab === \"alarms\" && renderAlarmsTab()}\r\n              \r\n              {activeTab === \"cmd\" && renderCommandCenterTab()}\r\n            </Box>\r\n          </>\r\n        )}\r\n      </Container>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default TelemetryDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}